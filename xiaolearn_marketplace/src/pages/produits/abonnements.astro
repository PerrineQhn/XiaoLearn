---
import BaseLayout from '../../layouts/BaseLayout.astro';
import PricingCard from '../../components/PricingCard.astro';
import { subscriptions } from '../../data/products';
---

<BaseLayout title="Abonnements - XiaoLearn Shop">
  <section class="page-header">
    <div class="container">
      <span class="page-badge">üì± Abonnements</span>
      <h1>Acc√®s complet √† XiaoLearn</h1>
      <p>Choisissez votre formule et d√©bloquez toutes les fonctionnalit√©s pour progresser rapidement en chinois mandarin</p>
    </div>
  </section>

  <section class="section">
    <div class="container">
      <div class="pricing-grid">
        {subscriptions.map(sub => (
          <PricingCard product={sub} />
        ))}
      </div>
    </div>
  </section>

  <!-- Features -->
  <section class="section features-section">
    <div class="container">
      <h2 class="text-center">Ce qui est inclus</h2>

      <div class="features-grid">
        <div class="feature">
          <div class="feature-icon">üìö</div>
          <h3>100+ le√ßons structur√©es</h3>
          <p>Parcours complet du HSK 1 au HSK 3 avec exercices interactifs</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üß†</div>
          <h3>R√©vision SRS intelligente</h3>
          <p>Syst√®me de r√©p√©tition espac√©e pour m√©moriser durablement</p>
        </div>
        <div class="feature">
          <div class="feature-icon">ü§ñ</div>
          <h3>Assistant IA</h3>
          <p>Pratiquez la conversation avec notre assistant aliment√© par l'IA</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üéÆ</div>
          <h3>5 mini-jeux</h3>
          <p>Apprenez en vous amusant avec des jeux √©ducatifs vari√©s</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üìä</div>
          <h3>Suivi de progression</h3>
          <p>Statistiques d√©taill√©es pour suivre votre apprentissage</p>
        </div>
        <div class="feature">
          <div class="feature-icon">üîÑ</div>
          <h3>Synchronisation</h3>
          <p>Retrouvez votre progression sur tous vos appareils</p>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="section faq-section">
    <div class="container">
      <h2 class="text-center">Questions fr√©quentes</h2>

      <div class="faq-list">
        <details class="faq-item">
          <summary>Puis-je annuler mon abonnement √† tout moment ?</summary>
          <p>Oui, vous pouvez annuler votre abonnement √† tout moment depuis votre espace client. L'acc√®s reste actif jusqu'√† la fin de la p√©riode pay√©e.</p>
        </details>
        <details class="faq-item">
          <summary>Y a-t-il une p√©riode d'essai gratuite ?</summary>
          <p>L'application de base est gratuite avec acc√®s limit√©. L'abonnement d√©bloque toutes les fonctionnalit√©s premium. Vous b√©n√©ficiez √©galement d'une garantie satisfait ou rembours√© de 14 jours.</p>
        </details>
        <details class="faq-item">
          <summary>Comment acc√©der √† l'application apr√®s paiement ?</summary>
          <p>Apr√®s votre achat, vous recevrez un email avec les instructions pour lier votre abonnement √† votre compte XiaoLearn. L'acc√®s est imm√©diat.</p>
        </details>
        <details class="faq-item">
          <summary>L'abonnement inclut-il l'application mobile ?</summary>
          <p>L'abonnement donne acc√®s √† l'application web (app.xiaolearn.com). L'application mobile dictionnaire est un produit s√©par√©.</p>
        </details>
      </div>
    </div>
  </section>
</BaseLayout>

<style>
  .page-header {
    background: linear-gradient(135deg, rgba(216, 72, 62, 0.92), rgba(240, 183, 98, 0.7));
    padding: var(--spacing-3xl) 0;
    text-align: center;
    color: var(--text-inverse);
  }

  .page-badge {
    display: inline-block;
    background: rgba(255, 255, 255, 0.2);
    padding: var(--spacing-xs) var(--spacing-md);
    border-radius: var(--radius-full);
    font-size: 0.9rem;
    font-weight: 600;
    margin-bottom: var(--spacing-md);
  }

  .page-header h1 {
    color: var(--text-inverse);
    margin-bottom: var(--spacing-sm);
  }

  .page-header p {
    color: rgba(255, 255, 255, 0.9);
    font-size: 1.1rem;
    max-width: 600px;
    margin: 0 auto;
  }

  .pricing-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: var(--spacing-xl);
    max-width: 800px;
    margin: 0 auto;
  }

  @media (max-width: 640px) {
    .pricing-grid {
      grid-template-columns: 1fr;
    }
  }

  .features-section {
    background: var(--bg-secondary);
  }

  .features-section h2 {
    margin-bottom: var(--spacing-2xl);
  }

  .features-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: var(--spacing-xl);
  }

  .feature {
    text-align: center;
    padding: var(--spacing-lg);
  }

  .feature-icon {
    font-size: 2.5rem;
    margin-bottom: var(--spacing-md);
  }

  .feature h3 {
    font-size: 1rem;
    margin-bottom: var(--spacing-sm);
  }

  .feature p {
    font-size: 0.9rem;
    color: var(--text-secondary);
  }

  @media (max-width: 900px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (max-width: 640px) {
    .features-grid {
      grid-template-columns: 1fr;
    }
  }

  .faq-section h2 {
    margin-bottom: var(--spacing-2xl);
  }

  .faq-list {
    max-width: 700px;
    margin: 0 auto;
    display: flex;
    flex-direction: column;
    gap: var(--spacing-md);
  }

  .faq-item {
    background: var(--bg-primary);
    border: 1px solid var(--border-light);
    border-radius: var(--radius-md);
    overflow: hidden;
  }

  .faq-item summary {
    padding: var(--spacing-lg);
    font-weight: 600;
    cursor: pointer;
    list-style: none;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .faq-item summary::after {
    content: '+';
    font-size: 1.25rem;
    color: var(--primary-red);
  }

  .faq-item[open] summary::after {
    content: '‚àí';
  }

  .faq-item p {
    padding: 0 var(--spacing-lg) var(--spacing-lg);
    color: var(--text-secondary);
    line-height: 1.6;
  }
</style>
